# Упражнение 1: Работа с Docker и Nginx

## Цель упражнения
Изучить основы работы с Docker, управление контейнерами, кастомизация веб-сервера и создание автоматизированных скриптов.

## Задачи

### Часть 1: Основы Docker
1. **Скачать официальный образ Nginx**
   ```bash
   docker pull nginx:latest
   ```

2. **Создать и запустить контейнер**
   ```bash
   docker run -d --name my-nginx -p 8080:80 nginx:latest
   ```

3. **Проверить работу**
   - Открыть браузер и перейти на `http://localhost:8080`
   - Убедиться, что отображается стандартная страница Nginx
   - Сделать скриншот страницы

### Часть 2: Кастомизация Nginx
4. **Создать кастомную HTML страницу**
   - Создать файл `index.html` с личной информацией
   - Содержание должно включать: имя, фамилию, дату выполнения задания
   
5. **Скопировать файл в контейнер**
   ```bash
   docker cp index.html my-nginx:/usr/share/nginx/html/index.html
   ```

6. **Проверить изменения**
   - Обновить страницу в браузере
   - Убедиться, что отображается ваш кастомный контент

### Часть 3: Создание Bash скрипта
7. **Создать скрипт `nginx-manager.sh`** со следующим функционалом:
   ```bash
   #!/bin/bash
   
   CONTAINER_NAME="my-nginx"
   
   case $1 in
     start)
       echo "Запуск контейнера..."
       docker start $CONTAINER_NAME
       ;;
     stop)
       echo "Остановка контейнера..."
       docker stop $CONTAINER_NAME
       ;;
     restart)
       echo "Перезапуск контейнера..."
       docker restart $CONTAINER_NAME
       ;;
     status)
       echo "Статус контейнера:"
       docker ps -a --filter name=$CONTAINER_NAME
       ;;
     logs)
       echo "Логи контейнера:"
       docker logs $CONTAINER_NAME
       ;;
     *)
       echo "Использование: $0 {start|stop|restart|status|logs}"
       exit 1
       ;;
   esac
   ```

8. **Сделать скрипт исполняемым**
   ```bash
   chmod +x nginx-manager.sh
   ```

### Часть 4: Тестирование и логи
9. **Протестировать все функции скрипта:**
   - `./nginx-manager.sh stop`
   - `./nginx-manager.sh start`  
   - `./nginx-manager.sh status`
   - `./nginx-manager.sh logs`
   - `./nginx-manager.sh restart`

10. **Анализ логов:**
    - Выполнить несколько запросов к серверу
    - Посмотреть логи через скрипт
    - Найти записи о ваших запросах

## Критерии оценки
- ✅ Контейнер успешно создан и запущен
- ✅ Localhost:8080 отображает кастомную страницу
- ✅ Bash скрипт работает корректно (все 5 команд)
- ✅ Скрипт выводит понятные сообщения
- ✅ Логи отображаются и анализируются
- ✅ Предоставлены скриншоты работы

## Результат сдачи
Необходимо предоставить:
1. Файл `index.html`
2. Файл `nginx-manager.sh`
3. Скриншот браузера с кастомной страницей
4. Вывод команды `./nginx-manager.sh status`
5. Фрагмент логов с вашими запросами

## Дополнительное задание (бонус)
Добавить в скрипт функцию `cleanup`, которая:
- Останавливает контейнер
- Удаляет контейнер
- Удаляет образ nginx